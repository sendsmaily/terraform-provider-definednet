---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "definednet_lighthouse Resource - definednet"
subcategory: ""
description: |-
  definednet_lighthouse enables managing Nebula overlay network lighthouses on Defined.net.
  The Defined.net API token must be configured with the following scope:
  lighthouses:createlighthouses:deletelighthouses:enrolllighthouses:listlighthouses:readlighthouses:update
---

# definednet_lighthouse (Resource)

`definednet_lighthouse` enables managing Nebula overlay network lighthouses on Defined.net.

The Defined.net API token must be configured with the following scope:

- `lighthouses:create`
- `lighthouses:delete`
- `lighthouses:enroll`
- `lighthouses:list`
- `lighthouses:read`
- `lighthouses:update`

## Example Usage

```terraform
variable "definednet_token" {
  description = "Defined.net HTTP API token"
  sensitive   = true
}

provider "definednet" {
  token = var.definednet_token
}

resource "definednet_lighthouse" "example" {
  name             = "example.defined.test"
  network_id       = "network-7P81MCS2TVAY9XJWQTNJ3PWYPD"
  role_id          = "role-WSG78880Z655TQJVQFL5CZ405B"
  listen_port      = 4242
  static_addresses = ["84.123.10.1"]
  tags             = ["service:app"]
}

resource "definednet_lighthouse" "metrics_minimal" {
  name             = "example.defined.test"
  network_id       = "network-7P81MCS2TVAY9XJWQTNJ3PWYPD"
  role_id          = "role-WSG78880Z655TQJVQFL5CZ405B"
  listen_port      = 4242
  static_addresses = ["84.123.10.1"]
  tags             = ["service:app"]

  metrics {
    enabled = true
  }
}

resource "definednet_lighthouse" "metrics" {
  name             = "example.defined.test"
  network_id       = "network-7P81MCS2TVAY9XJWQTNJ3PWYPD"
  role_id          = "role-WSG78880Z655TQJVQFL5CZ405B"
  listen_port      = 4242
  static_addresses = ["84.123.10.1"]
  tags             = ["service:app"]

  metrics {
    enabled              = true
    listen               = "127.0.0.1:9100"
    path                 = "/-/metrics"
    namespace            = "infra"
    subsystem            = "nebula"
    enable_extra_metrics = true
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `listen_port` (Number) Lighthouse's listen port
- `name` (String) Lighthouse's name
- `network_id` (String) Enrolled Network ID
- `static_addresses` (List of String) Lighthouse's static IP addresses

### Optional

- `metrics` (Block, Optional) Host's metrics exporter configuration (see [below for nested schema](#nestedblock--metrics))
- `role_id` (String) Lighthouse's role ID on Defined.net
- `tags` (List of String) Lighthouse's tags on Defined.net

### Read-Only

- `enrollment_code` (String, Sensitive) Lighthouse's enrollment code
- `id` (String) Lighthouse's ID
- `ip_address` (String) Lighthouse's IP address on Defined.net overlay network

<a id="nestedblock--metrics"></a>
### Nested Schema for `metrics`

Optional:

- `enable_extra_metrics` (Boolean) Enable extra metrics
- `enabled` (Boolean) Enable metrics exporter
- `listen` (String) Host-port for Prometheus metrics exporter listener
- `namespace` (String) Prometheus metrics' namespace
- `path` (String) Prometheus metrics exporter's HTTP path
- `subsystem` (String) Prometheus metrics' subsystem
